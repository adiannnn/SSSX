<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯¼å¸ˆç«¯ - æ¯•ä¸šè®¾è®¡å¸ˆç”ŸåŒé€‰ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <header class="navbar">
        <div class="navbar-brand">
            <h1>æ¯•ä¸šè®¾è®¡å¸ˆç”ŸåŒé€‰ç³»ç»Ÿ</h1>
        </div>
        <nav class="nav-menu">
            <a href="#personalInfo" class="nav-link">ä¸ªäººä¿¡æ¯</a>
            <a href="#researchDirection" class="nav-link">ç ”ç©¶æ–¹å‘</a>
            <a href="#notifications" class="nav-link">ç³»ç»Ÿå…¬å‘Š</a>
            <a href="#studentGroups" class="nav-link">å­¦ç”Ÿç»„æµè§ˆ</a>
            <a href="#groupSelection" class="nav-link">å­¦ç”Ÿç»„é€‰æ‹©</a>
            <a href="#matchResult" class="nav-link">åŒ¹é…ç»“æœ</a>
        </nav>
        <div class="user-controls">
            <span class="user-info">æ¬¢è¿æ‚¨ï¼Œ<span id="userName">å¯¼å¸ˆ</span></span>
            <button class="btn btn-danger" id="logoutBtn">é€€å‡ºç™»å½•</button>
        </div>
    </header>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
        <!-- æ•™å¸ˆä»ªè¡¨ç›˜æ¦‚è§ˆ -->
        <section id="dashboard" class="section">
            <div class="card">
                <h3>æ•™å¸ˆä»ªè¡¨ç›˜æ¦‚è§ˆ</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-bottom: 20px;">
                    <div class="dashboard-card pulse-animation">
                        <h4>å­¦ç”Ÿç»„é€‰æ‹©è¿›åº¦</h4>
                        <div class="dashboard-number">0/5</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%;"></div>
                        </div>
                    </div>
                    <div class="dashboard-card float-animation">
                        <h4>å·²åŒ¹é…å­¦ç”Ÿç»„</h4>
                        <div class="dashboard-number">0</div>
                    </div>
                    <div class="dashboard-card slide-in-animation">
                        <h4>ç ”ç©¶æ–¹å‘æ•°é‡</h4>
                        <div class="dashboard-number">0</div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ä¸ªäººä¿¡æ¯æ¨¡å— -->
        <section id="personalInfo" class="section">
            <div class="card">
                <h3>ä¸ªäººä¿¡æ¯</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">å·¥å·ï¼š</span>
                        <span class="info-value" id="teacherId">--</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">å§“åï¼š</span>
                        <span class="info-value" id="teacherName">--</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">èŒç§°ï¼š</span>
                        <span class="info-value" id="teacherTitle">--</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ä¸“ä¸šï¼š</span>
                        <span class="info-value" id="teacherMajor">--</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">è”ç³»ç”µè¯ï¼š</span>
                        <span class="info-value" id="teacherPhone">--</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">é‚®ç®±ï¼š</span>
                        <span class="info-value" id="teacherEmail">--</span>
                    </div>
                </div>
                <div class="card-actions">
                    <button class="btn btn-primary" id="editInfoBtn">ç¼–è¾‘ä¿¡æ¯</button>
                </div>
            </div>
        </section>

        <!-- ç ”ç©¶æ–¹å‘æ¨¡å— -->
        <section id="researchDirection" class="section">
            <div class="card">
                <h3>ç ”ç©¶æ–¹å‘</h3>
                <div id="researchForm">
                    <div class="form-group">
                        <label for="researchInput">ç ”ç©¶æ–¹å‘ï¼š</label>
                        <textarea id="researchInput" rows="4" placeholder="è¯·è¯¦ç»†æè¿°æ‚¨çš„ä¸»è¦ç ”ç©¶æ–¹å‘å’Œæ„Ÿå…´è¶£çš„é¢†åŸŸ..." class="form-control"></textarea>
                    </div>
                    <div class="card-actions">
                        <button class="btn btn-primary" id="submitResearchBtn">æäº¤ç ”ç©¶æ–¹å‘</button>
                    </div>
                </div>
                
                <!-- ç ”ç©¶æ–¹å‘ç¼–è¾‘è¡¨å• -->
                <div id="researchEditForm" style="display: none;">
                    <div class="form-group">
                        <label for="editResearchInput">ç¼–è¾‘ç ”ç©¶æ–¹å‘ï¼š</label>
                        <textarea class="form-control" id="editResearchInput" rows="4" placeholder="è¯·è¯¦ç»†æè¿°æ‚¨çš„ä¸»è¦ç ”ç©¶æ–¹å‘å’Œæ„Ÿå…´è¶£çš„é¢†åŸŸ..."></textarea>
                    </div>
                    <div class="card-actions">
                        <button class="btn btn-primary" id="saveResearchBtn">ä¿å­˜ä¿®æ”¹</button>
                        <button class="btn btn-secondary" id="cancelEditBtn">å–æ¶ˆ</button>
                    </div>
                </div>
                <div id="researchInfo" style="display: none;">
                    <div class="success-icon">ğŸ¯</div>
                    <h4>å·²æäº¤ç ”ç©¶æ–¹å‘</h4>
                    <div class="research-content">
                        <p id="savedResearch">--</p>
                    </div>
                    <div class="meta-info">
                        <small id="researchSubmitDate">--</small>
                    </div>
                    <div class="card-actions">
                        <button class="btn btn-secondary" id="editResearchBtn">ç¼–è¾‘ç ”ç©¶æ–¹å‘</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- å­¦ç”Ÿç»„æµè§ˆæ¨¡å— -->
        <section id="studentGroups" class="section">
            <div class="card">
                <h3>å­¦ç”Ÿç»„æµè§ˆ</h3>
                <div class="search-container">
                    <div class="form-row">
                        <div class="form-group search-group" style="display: flex; gap: 10px; align-items: center;">
                            <select id="majorFilter" class="form-control" style="width: 200px;">
                                <option value="">å…¨éƒ¨ä¸“ä¸š</option>
                                <!-- ä¸“ä¸šé€‰é¡¹å°†ç”±JavaScriptåŠ¨æ€å¡«å…… -->
                            </select>
                            <input type="text" id="groupSearch" placeholder="æœç´¢å›¢é˜Ÿåç§°ã€é¢˜ç›®æˆ–æˆå‘˜..." class="form-control">
                            <button class="btn btn-primary search-btn">æœç´¢</button>
                        </div>
                    </div>
                </div>
                <div class="table-container">
                    <table id="teamTable" class="data-table">
                        <thead>
                            <tr>
                                <th>åºå·</th>
                                <th>ç»„å</th>
                                <th>ç»„é•¿</th>
                                <th>æˆå‘˜æ•°é‡</th>
                                <th>æˆå‘˜åˆ—è¡¨</th>
                                <th>æ¯•ä¸šè®¾è®¡é¢˜ç›®</th>
                                <th>è¯¾é¢˜æè¿°</th>
                            </tr>
                        </thead>
                        <tbody id="teamTableBody">
                            <!-- è¡¨æ ¼å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        </tbody>
                    </table>
                    <div class="empty-state" id="emptyTeamState" style="display: none;">
                        <div class="empty-icon">ğŸ“š</div>
                        <p>æš‚æ— å­¦ç”Ÿç»„æ•°æ®</p>
                    </div>
                    <div class="empty-state" id="emptySearchState" style="display: none;">
                        <div class="empty-icon">ğŸ”</div>
                        <p>æœªæ‰¾åˆ°åŒ¹é…çš„å­¦ç”Ÿç»„</p>
                        <button class="btn btn-default" onclick="clearSearch()">æ¸…é™¤æœç´¢æ¡ä»¶</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- å­¦ç”Ÿç»„é€‰æ‹©æ¨¡å— -->
        <section id="groupSelection" class="section">
            <div class="card">
                <h3>å­¦ç”Ÿç»„é€‰æ‹©</h3>
                <div class="message message-info">
                    <strong>æç¤ºï¼š</strong>è¯·ä»å­¦ç”Ÿç»„æµè§ˆä¸­é€‰æ‹©æœ€å¤š5ä¸ªå­¦ç”Ÿç»„ï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åºã€‚
                </div>
                <div id="selectedGroups">
                    <h4>å·²é€‰æ‹©çš„å­¦ç”Ÿç»„</h4>
                    <div id="selectedGroupsList" class="priority-list" style="margin-bottom: 20px;"></div>
                    <div class="selection-status">
                        <span id="selectionCount" class="count" style="font-size: 1.1rem; color: #4f46e5; font-weight: 600; margin-right: 20px;">å·²é€‰æ‹©ï¼š0/5</span>
                        <button class="btn btn-primary" id="confirmSelectionBtn" disabled>ç¡®è®¤é€‰æ‹©</button>
                    </div>
                </div>
                <style>
                    .priority-list {
                        display: flex;
                        flex-direction: column;
                        gap: 15px;
                    }
                    
                    .priority-list .team-card {
                        display: flex;
                        align-items: center;
                        padding: 15px;
                        background: white;
                        border-radius: 12px;
                        border: 1px solid #e2e8f0;
                        transition: all 0.3s ease;
                    }
                    
                    .priority-list .team-card:hover {
                        transform: translateY(-3px);
                        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
                    }
                    
                    .priority-list .priority-badge {
                        background: #4f46e5;
                        color: white;
                        width: 28px;
                        height: 28px;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-weight: bold;
                        margin-right: 15px;
                        flex-shrink: 0;
                    }
                </style>
            </div>
        </section>

        <!-- åŒ¹é…ç»“æœæ¨¡å— -->
        <section id="matchResult" class="section">
            <div class="card pulse-animation">
                <h3>åŒ¹é…ç»“æœ</h3>
                <div class="message message-warning" id="resultNotReady">
                    <strong>ç­‰å¾…ä¸­ï¼š</strong>ç³»ç»Ÿæ­£åœ¨è¿›è¡ŒåŒ¹é…ï¼Œè¯·ç¨åæŸ¥çœ‹ç»“æœã€‚
                </div>
                <div id="matchResultInfo" style="display: none;">
                    <div class="success-icon">ğŸ¯</div>
                    <h4>åŒ¹é…ç»“æœå·²å®Œæˆ</h4>
                    <div id="matchedTeams" class="matched-results">
                        <!-- åŒ¹é…ç»“æœå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <div class="card-actions" style="margin-top: 20px;">
                        <button class="btn btn-primary" id="viewDetailsBtn">æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</button>
                    </div>
                </div>
            </div>
        </section>
        <!-- å…¬å‘Šæ¨¡å— -->
        <section id="notifications" class="section">
            <div class="card">
                <h3>ç³»ç»Ÿå…¬å‘Š</h3>
                <div class="search-container">
                    <input type="text" id="notificationSearch" placeholder="æœç´¢å…¬å‘Šæ ‡é¢˜..." class="form-control">
                    <button class="btn btn-primary search-btn">æœç´¢</button>
                </div>
                <div id="notificationList" class="notification-list">
                    <!-- å…¬å‘Šåˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <div class="empty-state" id="emptyNotificationState" style="display: none;">
                    <div class="empty-icon">ğŸ“¢</div>
                    <p>æš‚æ— ç³»ç»Ÿå…¬å‘Š</p>
                </div>
            </div>
        </section>
    </main>

    <!-- ç¼–è¾‘ä¿¡æ¯æ¨¡æ€æ¡† -->
    <div id="editInfoModal" class="modal" style="display: none;">
        <div class="modal-backdrop"></div>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ç¼–è¾‘ä¸ªäººä¿¡æ¯</h3>
                    <button type="button" class="close-modal" aria-label="å…³é—­">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="editPhone">è”ç³»ç”µè¯ï¼š</label>
                        <input type="text" id="editPhone" placeholder="è¯·è¾“å…¥è”ç³»ç”µè¯" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="editEmail">é‚®ç®±ï¼š</label>
                        <input type="email" id="editEmail" placeholder="è¯·è¾“å…¥é‚®ç®±" class="form-control">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" id="cancelEditBtn">å–æ¶ˆ</button>
                    <button type="button" class="btn btn-primary" id="saveInfoBtn">ä¿å­˜æ›´æ”¹</button>
                </div>
            </div>
        </div>
    </div>

    <!-- å…¬å‘Šè¯¦æƒ…æ¨¡æ€æ¡† -->
    <div id="notificationDetailModal" class="modal" style="display: none;">
        <div class="modal-backdrop"></div>
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalNotificationTitle">å…¬å‘Šè¯¦æƒ…</h3>
                    <button type="button" class="close-modal" aria-label="å…³é—­">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="notification-detail">
                        <p class="notification-meta">
                            <strong>å‘å¸ƒäººï¼š</strong><span id="modalNotificationAuthor"></span>
                        </p>
                        <p class="notification-meta">
                            <strong>å‘å¸ƒæ—¶é—´ï¼š</strong><span id="modalNotificationTime"></span>
                        </p>
                        <div class="notification-content" id="modalNotificationContent">
                            <!-- å…¬å‘Šå†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="closeNotificationBtn">å…³é—­</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/teacher.js"></script>
</body>
</html>